# ─── COPY THIS FILE TO .env AND FILL IN REAL VALUES ─────────────────────────
# NEVER commit .env to git

NODE_ENV=development

# Database
DATABASE_URL=postgres://user:password@host:5432/school_erp
DB_SSL=false

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-here
REDIS_TLS=false
ALLOW_REDIS_MOCK=false

# JWT — generate with: node -e "require('crypto').randomBytes(32).toString('hex')|console.log"
JWT_ACCESS_SECRET=REPLACE_WITH_64_CHAR_HEX
JWT_REFRESH_SECRET=REPLACE_WITH_64_CHAR_HEX
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# CORS
CORS_ORIGIN=http://localhost:5173

# Domains
ROOT_DOMAIN=yourdomain.com
CLIENT_URL=http://localhost:5173
SERVER_URL=http://localhost:3000

# Keycloak
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=school-erp
KEYCLOAK_CLIENT_ID=school-erp-client
KEYCLOAK_ADMIN_CLIENT_ID=admin-cli
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=changeme
KEYCLOAK_CLIENT_SECRET=changeme

# Health endpoint protection
INTERNAL_API_KEY=REPLACE_WITH_STRONG_RANDOM_KEY
INTERNAL_IP_ALLOWLIST=127.0.0.1,::1

# Security flags — HARDCODED false in production, do not override
SKIP_TENANT_VALIDATION=false
DEBUG_MODE=false

# RBAC Pilot
RBAC_ENFORCE_STUDENT=true
RBAC_ENFORCE_ATTENDANCE=true
RBAC_ENFORCE_ACADEMICS=true
RBAC_ENFORCE_EXAMS=true
RBAC_ENFORCE_USER_MGMT=true
RBAC_ENFORCE_RBAC=true
TENANT_COLLISION_ENFORCEMENT=shadow
